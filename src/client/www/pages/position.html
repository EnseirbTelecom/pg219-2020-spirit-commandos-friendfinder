<template> 
    <div class="page" data-name="positionActuelle">
        <div class="w3-sidebar w3-bar-block w3-black w3-xxlarge" style="width:70px">
        </div>
        <div style="margin-left:70px">
        <div class="w3-container">
            <nav class="navbar navbar-dark bg-dark">
                <a class="navbar-brand">Friend Finder</a>
                <a href="#"  id="signup_link">Déconnexion</a>
            </nav>
        </div>
        <div style="margin-left:70px">  
            <p> Durée de partage de position : </p>   
            <form>
                <div class="form-group">
                    <label>Durée</label>
                    <input type="text" class="form-control" id="duree" placeholder="Duree de partage">
                </div>
                <div class="form-group">
                    <label>Durée en : </label>
                    <select class="form-control" id="type_duree">
                    <option>secondes</option>
                    <option>minutes</option>
                    <option>heures</option>
                    <option>jours</option>
                    <option>mois</option>
                    </select>
                </div>  
            </form>                
            <a @click="getPosition">Partager la position </a> 
            <div id="geolocalisation"> </div>   
        </div>
        <div class="fab " id="back">
                <a href="#" title="Ajouter un produit">
                    <i class="icon f7-icons">arrow_left</i>
                </a>
        </div>
        </div>    
    </div>
</template> 
<script>
    return {
        methods: {
            getPosition: function() {
                console.log("test getPostion"); 
                var onSuccess = function(position) {
                    console.log("recuperation position reussie");
                    console.log(position.coords);
                    var element = document.getElementById('geolocalisation');
                    element.innerHTML= 'Latitude: '  + position.coords.latitude + '<br />' +
                            'Longitude: ' + position.coords.longitude + '<br />' +
                            '<hr />'      + element.innerHTML;
                };
                function onError(error) {
                alert('code: '    + error.code    + '\n' +
                'message: ' + error.message + '\n');
                }
                 navigator.geolocation.getCurrentPosition(onSuccess, onError);
            }
        }
    }
</script> 